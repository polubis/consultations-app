---
import { appConfig } from "@/core/config";

type Material = {
  id: string;
  title: string;
  description: string;
  price: number;
  url: string;
};

const MATERIALS_MOCK: Material[] = [
  {
    id: "senior-developer",
    title: "Senior Developer Starter Pack",
    description:
      "Code review tools, and problem-solving essentials to help you excel.",
    price: 200,
    url: "/materials/senior-developer",
  },
  {
    id: "better-code",
    title: "Better code pack",
    description:
      "Code review tools, and problem-solving essentials to help you excel.",
    price: 50,
    url: "/materials/better-code",
  },
  {
    id: "cloud",
    title: "Cloud",
    description: "Essential tools for scalable development.",
    price: 120,
    url: "/materials/cloud",
  },
  {
    id: "faster-coding-1",
    title: "Faster coding",
    description:
      "Automation scripts and best practices to accelerate development.",
    price: 80,
    url: "/materials/faster-coding-1",
  },
  {
    id: "faster-coding-2",
    title: "Faster coding",
    description:
      "Code review tools, and problem-solving essentials to help you excel.",
    price: 299,
    url: "/materials/faster-coding-2",
  },
];
---

<section
  class="fluid full-section flex flex-col justify-center"
  id={appConfig.materialsSection.id}
  aria-labelledby="materials-heading"
>
  <header class="flex gap-4 flex-col mbl:flex-row mbl:justify-between mbl:items-end mb-13">
    <h2 id="materials-heading" class="text-h2 font-500">
      Materiały
    </h2>
    <a
      href={appConfig.materialsSection.link}
      target="_blank"
      rel="noopener noreferrer"
      class="text-regular-bold text-left font-500 cursor-pointer hover:text-white transition-colors duration-300 ease-in-out"
    >
      Wszystkie materiały
  </a>
  </header>

  <ol
    aria-label="Lista dostępnych materiałów"
    class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 auto-rows-fr"
  >
    {MATERIALS_MOCK.map((material, index) => (
      <li
        class="p-[1px] overflow-hidden relative rounded-xl bg-gradient-to-r from-[#111311] via-[#08140f] to-[#010F09]"
      >
        <a
          href={material.url}
          class="p-6 flex flex-col h-full rounded-xl bg-background relative"
          aria-describedby={`description-${material.id}`}
        >
          <div
            class="radial-flare size-20"
            style={`top: ${((index * 25) % 75) + 10}%; right: ${((index * 30) % 70) + 15}%;`}
            aria-hidden="true"
          />
          <article
            aria-labelledby={`material-title-${material.id}`}
            class="flex flex-col h-full"
          >
            <header class="mb-4">
              <h4 id={`material-title-${material.id}`} class="mb-2 text-h4 font-550">
                {material.title}
              </h4>
              <p
                id={`description-${material.id}`}
                class="text-regular font-300"
              >
                {material.description}
              </p>
            </header>
            <footer class="mt-auto pt-6">
              <p
                class="text-h5 font-550"
                aria-label={`Cena: ${material.price} złotych`}
              >
                {material.price} zł
              </p>
            </footer>
          </article>
        </a>
      </li>
    ))}
  </ol>
</section> 